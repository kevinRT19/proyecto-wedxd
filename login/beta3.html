<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Districarnes s.v</title>
    <link rel="stylesheet" href="./css/beta2.css" />
    <link rel="stylesheet" href="./fontello.css" />
    <link rel="stylesheet" href="./css/loader.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <body >
    <div class="centrado">
      <div class="lds-ellipsis" id="onload" >
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <h1>Districarnes s.v (COP)</h1>

    <!-- Datos del cliente -->
    <div class="formulario">
      <h3>Datos del Cliente</h3>
      <label for="nombre-cliente">Nombre del Cliente:</label>
      <input
        type="text"
        id="nombre-cliente"
        placeholder="Ej: Juan Pérez"
        required
      /><br />
      <label for="direccion-cliente">Dirección:</label>
      <input
        type="text"
        id="direccion-cliente"
        placeholder="Ej: Calle Falsa 123"
        required
      /><br />
      <label for="">fecha</label>
      <input type="date" id="fecha" required>
    </div>
    

    <!-- Formulario para agregar productos -->
    <div class="formulario">
      <h3>Agregar Productos</h3>
      <label for="producto">Tipo de Producto:</label>
      <input type="text" id="producto" placeholder="Ej: Manzanas" required />
      <label for="peso">Peso (kg):</label>
      <input
        type="number"
        id="peso"
        placeholder="Ej: 1.5"
        step="0.1"
        required
      />
      <label for="precio">Precio por kg (COP):</label>
      <input type="number" id="precio" placeholder="Ej: 2000" required />
      <label for="iva">IVA (%):</label>
      <input
        type="number"
        id="iva"
        placeholder="Ej: 19"
        min="0"
        step="0.01"
        required
      />
      <button class="boton" id="btn-agregar" disabled>Agregar Producto</button>
      <p id="mensaje-error" class="mensaje-error">
        Por favor, complete todos los campos correctamente.
      </p>
    </div>
   

    <!-- Tabla para mostrar los productos -->
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Producto</th>
            <th>Peso (kg)</th>
            <th>Precio por kg (COP)</th>
            <th>Subtotal (COP)</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tabla-productos">
          <!-- Productos agregados aparecerán aquí -->
        </tbody>
      </table>
    </div>

    <!-- Total acumulado -->
    <div class="total">Total: COP <span id="total-final">0</span></div>

    <!-- Código de factura -->
    <div class="factura">
      <h2>Factura de Districarnes S.V.</h2>
      <img
        id="logo"
        src="./img/Captura_de_pantalla_2024-05-21_170546-removebg-preview.png"
        style="width: 100px; height: 100px"
        alt="Logo de la empresa"
      /><br />
      <strong>Código de Factura:</strong> <span id="codigo-factura"></span
      ><br />
      <strong>Nombre del Cliente:</strong>
      <span id="nombre-cliente-factura"></span><br />
      <strong>Dirección:</strong> <span id="direccion-cliente-factura"></span
      ><br />
      <strong>Fecha:</strong> <span id="fecha-factura"></span><br />
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Producto</th>
              <th>Peso (kg)</th>
              <th>Precio por kg (COP)</th>
              <th>Subtotal (COP)</th>
            </tr>
          </thead>
          <tbody id="tabla-productos-factura">
            <!-- Productos agregados aparecerán aquí en la factura -->
          </tbody>
        </table>
      </div>
      <div class="total">
        Total: COP <span id="total-final-factura">0.00</span>
      </div>
    </div>

    <!-- Botones para generar factura o limpiar todo -->
    <div class="botones">
      <button class="boton boton-limpiar" onclick="limpiarTabla()">
        Limpiar Todo
      </button>
      <button class="boton boton-factura" onclick="generarFactura()">
        Generar Factura
      </button>
      <button class="boton boton-imprimir" onclick="imprimirFactura()">
        Imprimir Factura
      </button>
      <button class="boton boton-cerrar" onclick="abrirModal()">
        Cerrar Sesión
      </button>
      <button class="boton para ir a registros" onclick="registro()">
        ir a registros
      </button>
    </div>

    <!-- Modal para cerrar sesión -->
    <div id="modal-cerrar" class="modal">
      <div class="modal-content">
        <span class="close" onclick="cerrarModal()">&times;</span>
        <p>¿Estás seguro de que deseas cerrar sesión?</p>
        <button class="boton" onclick="confirmarCerrarSesion()">Sí</button>
        <button class="boton" onclick="cerrarModal()">No</button>
      </div>
    </div>

    <script src="./js/proto2.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" ></script>
    <script src="./js/loader.js"></script>
  </body>
</html>
